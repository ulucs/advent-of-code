r:{0:"2021.kt/inputs/day",$:x}; wd:{-x_ x#'(1_)\ y}

d1::({+/>':x};+/>':(+/)'-3_3#'(1_)\)@\: 0$r 1
d2::(*/ +/;*/ +/'{(x*y;y)}/(+\;{x})@' +:)@\: {(.+(`up`down`forward;(-1 0;1 0;0 1)))[x 0]*'0$x 1}+:(" "\)'r 2

